# 자판기 사용 시퀀스 분석

## 프로젝트 개요

본 프로젝트는 **자판기 사용 과정**을 모델링하여, 조건 분기와 절차 흐름을 **워크플로우 다이어그램과 의사코드로 구조화**한 실습 과제입니다.  
사용자의 행위 흐름과 자판기 시스템의 판단 과정을 논리적으로 구성함으로써,  
**일상 속 시스템의 논리 흐름을 소프트웨어 구조로 해석하는 능력**을 키우는 데 목적이 있습니다.

---

## 프로젝트 구성

```
USEVENDING/                        # 프로젝트 루트 디렉토리
├── analysis/
│   └── module-analysis.md         # 모듈 응집도/결합도 평가
├── diagram/
│   ├── diagram.png                # 최종 순서도 이미지
│   └── mermaid.live-code.txt      # Mermaid 다이어그램 적용 코드
├── pseudo-code/
│   └── useVending.txt             # UseVending 최종 의사코드
└── README.md                      # 프로젝트 설명 문서
```

---

## 주제 선정 배경

자판기는 **일상에서 가장 자주 접할 수 있는 자동화 시스템 중 하나**로,  
사용자의 선택과 시스템의 반응이 분기와 순서로 구성되어 있어 **워크플로우 다이어그램 설계에 매우 적합**합니다.

특히 이 프로젝트에서는 다음과 같은 흐름을 중심으로 설계하였습니다:

- 사용자는 자신의 상황에 맞게 결제를 시도하며,
- 사용자가 활용 가능한 결제수단에 따라 **우선순위 기반으로 판단**을 수행하고,
- 결제가 실패하면 **다음 수단으로 넘어가며 반복 및 예외 처리**가 발생합니다.

이러한 구조는 **조건 분기, 반복, 종료 조건 등 모든 프로그래밍 흐름 제어 요소를 담고 있어**,  
실제 프로그램 흐름을 다이어그램과 의사코드로 표현하는 데 적절하다고 판단했습니다.

---

## 개발/설계 흐름

1. **의사코드 작성**  
   - 절차 기반으로 각 행위를 함수 단위로 구성  
   - `삼성페이 → 카드(IC → RC) → 현금 → 포기` 흐름 명확히 반영  
   - `useVending.txt`에 작성

2. **순서도 제작**  
   - `diagram/mermaid.live-code.txt`에 Mermaid 코드 작성  
   - `diagram/diagram.png`로 시각화 저장  
   - 조건 분기, 반복, 예외 처리까지 포함한 구조로 설계

3. **모듈 평가**  
   - `analysis/module-analysis.md`  
   - 각 기능의 응집도/결합도 중심 평가

---

## 의사코드 (UseVending)

```plaintext
UseVending() {
    자판기 앞에 선다();
    자판기 메뉴를 확인하고, 원하는 음료를 결정한다;

    // 1. 삼성페이 시도
    if (사용자_삼성페이_보유()) {
        if (삼성페이_인식됨() && 삼성페이_결제승인(음료가격)) {
            음료 내보내기();
            종료();
            return; // 삼성페이로 결제에 성공했다면, 다른 방법을 시도할 필요 없음
        }
        print("삼성페이 결제 실패");
    }

    // 2. 카드 시도 (IC → RC 순서)
    if (사용자_카드_보유()) {
        카드리스트 = 사용자_소지_카드들;
        for (카드 in 카드리스트) {
            카드삽입(IC, 카드);
            if (IC칩_인식됨(카드) && 카드결제승인(카드, 음료가격)) {
                음료 내보내기();
                종료();
                return;
            }

            카드긁기(RC, 카드);
            if (RC마그네틱_인식됨(카드) && 카드결제승인(카드, 음료가격)) {
                음료 내보내기();
                종료();
                return;
            }
        }
        print("모든 카드 결제 실패");
    } else {
        print("사용자는 카드를 가지고 있지 않음");
    }

    // 3. 현금 시도
    if (사용자_현금_보유()) {
        금액 = 사용자로부터 받기();
        if (금액 >= 음료가격) {
            음료 내보내기();
            if (금액 > 음료가격) {
                잔돈 = 금액 - 음료가격;
                잔돈 반환(잔돈);
                사용자 잔돈 회수();
            }
            종료();
            return;
        } else {
            오류("금액이 부족합니다.");
        }
    } else {
        print("현금 없음 → 음료 구매 포기");
    }

    종료();
}
```

---

## 순서도 다이어그램

![vending_flowchart](https://github.com/LiQuiDsKR/UseVending/blob/main/diagram/diagram.png?raw=true)

---

## 참고 사항

- Mermaid 다이어그램은 `diagram/mermaid.live-code.txt`에 원본 코드가 포함되어 있습니다.  
  ([https://mermaid.live](https://mermaid.live)에서 시각화 가능)
- 작성된 구조는 실제 구현 이전의 **분석 및 설계 과정에 초점**을 맞추었으며,  
  소프트웨어 개발 전 **사고 흐름 훈련용**으로 활용됩니다.

- 의사코드의 시퀀스 흐름은 직접 구상 및 설계, 작성하였습니다.
- 의사코드 완성도 및 피드백은 LLM AI를 활용했습니다.
- Mermaid 다이어그램 코드는 의사코드를 토대로 LLM AI을 활용하여 작성했습니다.
